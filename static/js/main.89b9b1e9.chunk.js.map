{"version":3,"sources":["CustomerPane/iphone.png","CustomerPane/square.png","CustomerPane/CustomerPane.js","MessageInput/MessageInput.js","svg/AppointmentIcon.js","svg/InvoiceIcon.js","svg/PaymentIcon.js","svg/PhotoIcon.js","svg/RefundIcon.js","EventCard/EventCard.js","MessagesPane/MessagesPane.js","Modal/Modal.js","App.js","reportWebVitals.js","index.js","MessagesController.js"],"names":["observer","props","conversation","sendMessage","useState","message","setMessage","bodyRef","useRef","useEffect","current","scroll","behavior","left","top","scrollHeight","className","src","phone","alt","square","ref","map","utterance","index","speaker","text","value","onChange","e","target","placeholder","onKeyDown","key","shiftKey","prediction","fetchAutoComplete","predictionText","charAt","length","rows","setRows","timeout","clearTimeout","setTimeout","AppointmentIcon","width","height","viewBox","fill","xmlns","id","fillRule","clipRule","d","mask","InvoiceIcon","PaymentIcon","PhotoIcon","stroke","strokeWidth","strokeMiterlimit","strokeLinecap","strokeLinejoin","RefundIcon","title","button","icon","event","autoReply","autoComplete","clearAutoComplete","suggestedActions","clearSuggestedActions","setModal","suggestionHeading","suggestionComponent","suggestions","forEach","suggestion","push","onClick","metadata","startsWith","preventDefault","mode","send","close","style","controller","modalMode","sendAction","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","isAutoReply","isAutoComplete","isSuggestAction","isSuggestLink","fetchAutoReply","customerInput","skipAutoReply","fetch","method","headers","body","JSON","stringify","user_input","resp","json","data","predictions","result","search","toLowerCase","merchantInput","previousCustomerUtterance","previousUtterance","merchant_input","auto_complete_length","use_trie","clearAutoReply","modal","this","makeAutoObservable","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.89b9b1e9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/iphone.d3f4ec0d.png\";","export default __webpack_public_path__ + \"static/media/square.2d24f7b0.png\";","import { useEffect, useRef, useState } from 'react';\nimport { observer } from \"mobx-react\";\nimport phone from './iphone.png';\nimport square from './square.png';\nimport './CustomerPane.scss';\n\nfunction CustomerPane(props) {\n  const { conversation, sendMessage } = props;\n  const [message, setMessage] = useState('');\n\n  const bodyRef = useRef();\n  useEffect(() => {\n    if (bodyRef && bodyRef.current) {\n      bodyRef.current.scroll({\n        behavior: 'smooth',\n        left: 0,\n        top: bodyRef.current.scrollHeight\n      });\n    }\n  }, [conversation]);\n\n  return (\n    <div className=\"CustomerPane\">\n      <img src={phone} alt=\"Customer\" className=\"phone\" />\n      <div className=\"screen\">\n        <div className=\"header\">\n          <div className=\"square-container\">\n            <img src={square} alt=\"Square\" className=\"square\" />\n          </div>\n          <span className=\"square-text\">Square</span>\n        </div>\n        <div className=\"body\" ref={bodyRef}>\n          <div className=\"body-content\">\n            {conversation.map((utterance, index) => {\n              return (\n                <div className={utterance.speaker === 'customer' ? 'utterance-user' : 'utterance-other'} key={index}>\n                  {utterance.text}\n                </div>\n              )\n            })}\n          </div>\n        </div>\n        <div className=\"footer\">\n          <input\n            className=\"input\"\n            value={message}\n            onChange={e => setMessage(e.target.value)}\n            placeholder=\"Text message\"\n            onKeyDown={(e) => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                sendMessage(message, 'customer');\n                setMessage('');\n              }\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default observer(CustomerPane);\n","import { useEffect, useRef, useState } from 'react';\nimport { observer } from \"mobx-react\";\nimport './MessageInput.scss';\n\nfunction MessageInput(props) {\n  const { value, prediction, placeholder, onChange, onKeyDown, fetchAutoComplete } = props;\n  let predictionText = prediction === '' ? value : prediction;\n  if (value !== '' && value.charAt(value.length - 1) === '\\n') {\n    predictionText += ' ';\n  }\n\n  const ref = useRef();\n  const [ rows, setRows ] = useState(1);\n  useEffect(() => {\n    if (ref && ref.current) {\n      if (ref.current.scrollHeight > 17) {\n        setRows(ref.current.scrollHeight / 17);\n      } else {\n        setRows(1);\n      }\n    }\n  }, [value, prediction]);\n\n  let timeout = useRef();\n  useEffect(() => {\n    if (value !== '') {\n      clearTimeout(timeout.current);\n      timeout.current = setTimeout(() => {\n        fetchAutoComplete(value);\n      }, 1000);\n    } else {\n      clearTimeout(timeout.current);\n    }\n  }, [value, fetchAutoComplete]);\n\n  return (\n    <div className=\"MessageInput\">\n      <div className=\"MessageInput__suggestion\" ref={ref}>{predictionText}</div>\n      <textarea\n        className=\"MessageInput__input\"\n        rows={rows}\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n      />\n    </div>\n  );\n}\n\nexport default observer(MessageInput);\n","export default function AppointmentIcon() {\n  return (\n    <svg width=\"16\" height=\"14\" viewBox=\"0 0 16 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <mask id=\"path-1-inside-1\" fill=\"white\">\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M4 0C4.55228 0 5 0.447715 5 1V2H11V1C11 0.447715 11.4477 0 12 0C12.5523 0 13 0.447715 13 1V2H14.2222C14.6257 2 15.0585 2.10791 15.4125 2.39237C15.7854 2.69204 16 3.13527 16 3.625V7V12.375C16 12.8647 15.7854 13.308 15.4125 13.6076C15.0585 13.8921 14.6257 14 14.2222 14H1.77778C1.37433 14 0.941486 13.8921 0.587498 13.6076C0.214565 13.308 0 12.8647 0 12.375V7V3.625C0 3.13527 0.214565 2.69204 0.587498 2.39237C0.941486 2.10791 1.37433 2 1.77778 2H3V1C3 0.447715 3.44772 0 4 0ZM12 4H4H2V6H14V4H12ZM2 8H14V12H2V8ZM1.74771 4.002C1.74769 4.00196 1.74854 4.00176 1.75035 4.00149L1.74771 4.002ZM1.74771 11.998L1.75035 11.9985C1.74854 11.9982 1.74769 11.998 1.74771 11.998ZM14.2523 11.998C14.2523 11.998 14.2515 11.9982 14.2496 11.9985L14.2523 11.998ZM14.2523 4.002L14.2496 4.00149C14.2515 4.00176 14.2523 4.00196 14.2523 4.002Z\"/>\n      </mask>\n      <path className=\"svg-fill\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M4 0C4.55228 0 5 0.447715 5 1V2H11V1C11 0.447715 11.4477 0 12 0C12.5523 0 13 0.447715 13 1V2H14.2222C14.6257 2 15.0585 2.10791 15.4125 2.39237C15.7854 2.69204 16 3.13527 16 3.625V7V12.375C16 12.8647 15.7854 13.308 15.4125 13.6076C15.0585 13.8921 14.6257 14 14.2222 14H1.77778C1.37433 14 0.941486 13.8921 0.587498 13.6076C0.214565 13.308 0 12.8647 0 12.375V7V3.625C0 3.13527 0.214565 2.69204 0.587498 2.39237C0.941486 2.10791 1.37433 2 1.77778 2H3V1C3 0.447715 3.44772 0 4 0ZM12 4H4H2V6H14V4H12ZM2 8H14V12H2V8ZM1.74771 4.002C1.74769 4.00196 1.74854 4.00176 1.75035 4.00149L1.74771 4.002ZM1.74771 11.998L1.75035 11.9985C1.74854 11.9982 1.74769 11.998 1.74771 11.998ZM14.2523 11.998C14.2523 11.998 14.2515 11.9982 14.2496 11.9985L14.2523 11.998ZM14.2523 4.002L14.2496 4.00149C14.2515 4.00176 14.2523 4.00196 14.2523 4.002Z\" fill=\"#006AFF\"/>\n      <path className=\"svg-fill\" d=\"M5 2H4V3H5V2ZM11 2V3H12V2H11ZM13 2H12V3H13V2ZM15.4125 2.39237L14.7861 3.17187L14.7861 3.17188L15.4125 2.39237ZM15.4125 13.6076L14.7861 12.8281L14.7861 12.8281L15.4125 13.6076ZM0.587498 13.6076L1.21389 12.8281L1.21389 12.8281L0.587498 13.6076ZM0.587498 2.39237L-0.0388931 1.61286L-0.0388935 1.61286L0.587498 2.39237ZM3 2V3H4V2H3ZM2 4V3H1V4H2ZM2 6H1V7H2V6ZM14 6V7H15V6H14ZM14 4H15V3H14V4ZM14 8H15V7H14V8ZM2 8V7H1V8H2ZM14 12V13H15V12H14ZM2 12H1V13H2V12ZM1.74771 4.002L0.928221 4.57509L1.29914 5.10549L1.93493 4.98431L1.74771 4.002ZM1.75035 4.00149L1.93757 4.98381L1.60574 3.012L1.75035 4.00149ZM1.74771 11.998L1.93494 11.0157L1.30072 10.8948L0.929521 11.4231L1.74771 11.998ZM1.75035 11.9985L1.606 12.988L1.93758 11.0162L1.75035 11.9985ZM14.2523 11.998L14.9894 11.3223L14.6127 10.9113L14.065 11.0157L14.2523 11.998ZM14.2496 11.9985L14.0623 11.0162L14.394 12.988L14.2496 11.9985ZM14.2523 4.002L14.0652 4.98433L14.6993 5.10512L15.0705 4.57694L14.2523 4.002ZM14.2496 4.00149L14.3942 3.01199L14.0625 4.98383L14.2496 4.00149ZM6 1C6 -0.10457 5.10457 -1 4 -1V1H6ZM6 2V1H4V2H6ZM11 1H5V3H11V1ZM12 2V1H10V2H12ZM12 1V-1C10.8954 -1 10 -0.104569 10 1H12ZM12 1H14C14 -0.104569 13.1046 -1 12 -1V1ZM12 1V2H14V1H12ZM14.2222 1H13V3H14.2222V1ZM16.0389 1.61286C15.4663 1.15271 14.7946 1 14.2222 1V3C14.4568 3 14.6508 3.06311 14.7861 3.17187L16.0389 1.61286ZM17 3.625C17 2.83307 16.6487 2.10286 16.0389 1.61286L14.7861 3.17188C14.9222 3.28122 15 3.43746 15 3.625H17ZM17 7V3.625H15V7H17ZM17 12.375V7H15V12.375H17ZM16.0389 14.3871C16.6487 13.8971 17 13.1669 17 12.375H15C15 12.5625 14.9222 12.7188 14.7861 12.8281L16.0389 14.3871ZM14.2222 15C14.7946 15 15.4663 14.8473 16.0389 14.3871L14.7861 12.8281C14.6508 12.9369 14.4568 13 14.2222 13V15ZM1.77778 15H14.2222V13H1.77778V15ZM-0.038894 14.3871C0.533729 14.8473 1.20543 15 1.77778 15V13C1.54323 13 1.34924 12.9369 1.21389 12.8281L-0.038894 14.3871ZM-1 12.375C-1 13.1669 -0.64868 13.8971 -0.0388929 14.3871L1.21389 12.8281C1.07781 12.7188 1 12.5625 1 12.375H-1ZM-1 7V12.375H1V7H-1ZM-1 3.625V7H1V3.625H-1ZM-0.0388935 1.61286C-0.64868 2.10286 -1 2.83307 -1 3.625H1C1 3.43746 1.07781 3.28122 1.21389 3.17187L-0.0388935 1.61286ZM1.77778 1C1.20543 1 0.533729 1.15271 -0.0388931 1.61286L1.21389 3.17188C1.34924 3.06311 1.54323 3 1.77778 3V1ZM3 1H1.77778V3H3V1ZM2 1V2H4V1H2ZM4 -1C2.89543 -1 2 -0.10457 2 1H4V-1ZM12 3H4V5H12V3ZM4 3H2V5H4V3ZM1 4V6H3V4H1ZM2 7H14V5H2V7ZM15 6V4H13V6H15ZM14 3H12V5H14V3ZM14 7H2V9H14V7ZM15 12V8H13V12H15ZM2 13H14V11H2V13ZM1 8V12H3V8H1ZM2.5672 3.4289C2.68998 3.60447 2.76238 3.82942 2.74523 4.07241C2.72949 4.29542 2.64377 4.46058 2.58005 4.55626C2.46552 4.72824 2.32717 4.81795 2.29415 4.83949C2.20192 4.89966 2.12022 4.93013 2.10698 4.93522C2.05661 4.95461 2.0157 4.96545 2.00696 4.96779C1.97798 4.97556 1.95505 4.98027 1.9465 4.982C1.9244 4.98647 1.90642 4.98931 1.89497 4.99098L1.60574 3.012C1.59248 3.01394 1.57316 3.01701 1.55019 3.02166C1.5412 3.02348 1.51795 3.02826 1.48876 3.03609C1.47992 3.03846 1.43893 3.04932 1.38851 3.06873C1.37525 3.07383 1.29353 3.1043 1.20129 3.16448C1.16826 3.18603 1.0299 3.27574 0.915377 3.44772C0.851659 3.5434 0.765938 3.70857 0.750195 3.93157C0.73304 4.17457 0.805444 4.39952 0.928221 4.57509L2.5672 3.4289ZM1.56314 3.01917L1.56049 3.01968L1.93493 4.98431L1.93757 4.98381L1.56314 3.01917ZM1.56049 12.9803L1.56313 12.9808L1.93758 11.0162L1.93494 11.0157L1.56049 12.9803ZM1.89471 11.009C1.90629 11.0107 1.9244 11.0135 1.94663 11.018C1.95525 11.0198 1.97825 11.0245 2.00732 11.0323C2.01609 11.0347 2.05708 11.0455 2.10753 11.065C2.12077 11.0701 2.20263 11.1007 2.29499 11.1611C2.32804 11.1827 2.46667 11.2727 2.58115 11.4454C2.64487 11.5415 2.7303 11.7071 2.74543 11.9304C2.76189 12.1736 2.68876 12.3981 2.5659 12.573L0.929521 11.4231C0.806666 11.5979 0.73353 11.8224 0.749997 12.0656C0.76512 12.2889 0.85055 12.4545 0.914279 12.5506C1.02875 12.7233 1.16739 12.8134 1.20045 12.835C1.29282 12.8954 1.37469 12.9259 1.38796 12.9311C1.43846 12.9505 1.47953 12.9614 1.4884 12.9638C1.51768 12.9717 1.541 12.9765 1.55006 12.9783C1.57316 12.983 1.5926 12.9861 1.606 12.988L1.89471 11.009ZM13.5151 12.6737C13.3941 12.5417 13.2807 12.3448 13.2568 12.0927C13.2336 11.8491 13.3032 11.6522 13.3705 11.5264C13.4861 11.3103 13.6494 11.1992 13.6828 11.176C13.7836 11.1062 13.875 11.0718 13.8868 11.0672C13.9398 11.0464 13.983 11.0349 13.9915 11.0326C14.0212 11.0246 14.0447 11.0198 14.0532 11.0181C14.0756 11.0135 14.0938 11.0107 14.1053 11.009L14.394 12.988C14.4073 12.9861 14.4268 12.983 14.4501 12.9783C14.4591 12.9765 14.4829 12.9716 14.5128 12.9635C14.5214 12.9612 14.5647 12.9497 14.6177 12.9289C14.6295 12.9242 14.7209 12.8899 14.8217 12.82C14.8552 12.7968 15.0185 12.6857 15.1341 12.4696C15.2014 12.3438 15.271 12.1469 15.2478 11.9034C15.2238 11.6512 15.1104 11.4543 14.9894 11.3223L13.5151 12.6737ZM14.437 12.9808L14.4396 12.9803L14.065 11.0157L14.0623 11.0162L14.437 12.9808ZM14.4394 3.01966L14.4368 3.01915L14.0625 4.98383L14.0652 4.98433L14.4394 3.01966ZM14.1051 4.99099C14.0937 4.98932 14.0757 4.98649 14.0536 4.98202C14.0451 4.9803 14.0221 4.97559 13.9931 4.96782C13.9844 4.96548 13.9435 4.95464 13.8931 4.93524C13.8799 4.93015 13.798 4.89965 13.7057 4.83936C13.6726 4.81781 13.5339 4.72782 13.4193 4.55523C13.3554 4.45914 13.2698 4.29344 13.2546 4.06995C13.238 3.82656 13.3112 3.60191 13.4341 3.42705L15.0705 4.57694C15.1934 4.40208 15.2666 4.17743 15.25 3.93404C15.2348 3.71054 15.1491 3.54485 15.0853 3.44875C14.9707 3.27616 14.8319 3.18617 14.7989 3.16461C14.7065 3.10431 14.6247 3.0738 14.6114 3.06871C14.561 3.04929 14.52 3.03843 14.5111 3.03606C14.4819 3.02823 14.4587 3.02345 14.4497 3.02164C14.4267 3.017 14.4074 3.01393 14.3942 3.01199L14.1051 4.99099Z\" fill=\"#006AFF\" mask=\"url(#path-1-inside-1)\"/>\n    </svg>\n  )\n}\n","export default function InvoiceIcon() {\n  return (\n    <svg width=\"12\" height=\"14\" viewBox=\"0 0 12 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path className=\"svg-fill\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9 2C9.55229 2 10 1.55228 10 1C10 0.447715 9.55229 0 9 0H3C2.44772 0 2 0.447716 2 1C2 1.55229 2.44772 2 3 2L9 2ZM1 4C0.447715 4 0 4.44772 0 5V13C0 13.5523 0.447715 14 1 14H7H11C11.5523 14 12 13.5523 12 13V5C12 4.44772 11.5523 4 11 4H7H1ZM6 6H2V8L6 8V6ZM2 12V10H6V12H2ZM8 12V10H10V12H8ZM10 6V8H8V6H10Z\" fill=\"#006AFF\"/>\n    </svg>\n  )\n}\n","export default function PaymentIcon() {\n  return (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path className=\"svg-fill\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M1.77778 0C1.3172 0 0.855672 0.157892 0.506782 0.506782C0.157892 0.855672 0 1.3172 0 1.77778V14.2222C0 14.6828 0.157892 15.1443 0.506782 15.4932C0.855673 15.8421 1.3172 16 1.77778 16H14.2222C14.6828 16 15.1443 15.8421 15.4932 15.4932C15.8421 15.1443 16 14.6828 16 14.2222V1.77778C16 1.3172 15.8421 0.855673 15.4932 0.506782C15.1443 0.157892 14.6828 0 14.2222 0H1.77778ZM2 14V2H8C7.44772 2 7 2.44772 7 3V3.37931C6.7778 3.44985 6.54806 3.55123 6.32747 3.69556C5.65636 4.13469 5.2 4.88838 5.2 5.95252C5.2 7.02624 5.88039 7.6976 6.42428 8.05645C6.9354 8.39368 7.48085 8.56329 7.66981 8.62205L7.69938 8.63129C7.84537 8.6773 8.23297 8.80781 8.56836 9.03253C8.92404 9.27085 9 9.45799 9 9.58102C9 10.2099 8.51388 10.6035 8 10.6035C7.56491 10.6035 7.17385 10.2584 6.86187 9.72821C6.5818 9.25221 5.96887 9.09338 5.49288 9.37346C5.01688 9.65354 4.85805 10.2665 5.13813 10.7425C5.43459 11.2463 6.03514 12.0666 7 12.4257V13C7 13.5523 7.44772 14 8 14H2ZM8 14C8.55228 14 9 13.5523 9 13V12.4287C10.0963 12.0392 11 11.019 11 9.58102C11 8.45897 10.2426 7.74691 9.68164 7.37102C9.10037 6.98155 8.48797 6.78285 8.30062 6.7238L8.28747 6.71965C8.10615 6.66256 7.79457 6.56445 7.52572 6.38707C7.25294 6.20709 7.2 6.06847 7.2 5.95252C7.2 5.7177 7.24648 5.58843 7.28168 5.52158C7.31609 5.45623 7.36133 5.40918 7.42253 5.36914C7.5698 5.27278 7.79869 5.2275 8 5.2275C8.12101 5.2275 8.32963 5.2691 8.548 5.37976C8.76355 5.48898 8.91622 5.62849 8.9968 5.7603C9.28486 6.23151 9.90037 6.37998 10.3716 6.09192C10.8428 5.80386 10.9913 5.18834 10.7032 4.71713C10.3838 4.19462 9.91145 3.82853 9.452 3.59572C9.30636 3.52192 9.15464 3.45774 9 3.40455V3C9 2.44772 8.55228 2 8 2H14V14H8Z\" fill=\"#006AFF\"/>\n    </svg>\n  )\n}\n","export default function PhotoIcon() {\n  return (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path className=\"svg-stroke\" d=\"M1 11L4.125 8L6 9.8\" stroke=\"#006AFF\" strokeWidth=\"2\" strokeMiterlimit=\"10\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n      <path className=\"svg-stroke\" d=\"M4 13L9.82353 7L15 11.6667\" stroke=\"#006AFF\" strokeWidth=\"2\" strokeMiterlimit=\"10\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n      <path className=\"svg-fill\" d=\"M6.5 5C7.32843 5 8 4.32843 8 3.5C8 2.67157 7.32843 2 6.5 2C5.67157 2 5 2.67157 5 3.5C5 4.32843 5.67157 5 6.5 5Z\" fill=\"#006AFF\"/>\n    </svg>\n  )\n}\n","export default function RefundIcon() {\n  return (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path className=\"svg-stroke\" d=\"M0.999999 9.60103C5.36954 5 12.4545 5 15 9.60107M0.999999 9.60103L5.36954 11M0.999999 9.60103L2.33237 5\" stroke=\"#006AFF\" strokeWidth=\"2\" strokeMiterlimit=\"10\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    </svg>\n  )\n}\n","import { observer } from \"mobx-react\";\nimport AppointmentIcon from \"../svg/AppointmentIcon\";\nimport InvoiceIcon from \"../svg/InvoiceIcon\";\nimport PaymentIcon from \"../svg/PaymentIcon\";\nimport RefundIcon from \"../svg/RefundIcon\";\nimport './EventCard.scss';\n\nfunction EventCard(props) {\n  const { event } = props;\n\n  let title = 'New invoice';\n  let button = 'View invoice';\n  let icon = null;\n\n  switch(event) {\n    case 'INVOICE':\n      title = 'New invoice';\n      button = 'View invoice';\n      icon = <InvoiceIcon />;\n      break;\n    case 'PAYMENT':\n      title = 'Payment request';\n      button = 'View payment link';\n      icon = <PaymentIcon />;\n      break;\n    case 'REFUND':\n      title = 'Refund issued';\n      button = 'View receipt';\n      icon = <RefundIcon />;\n      break;\n    case 'APPOINTMENT':\n      title = 'New appointment';\n      button = 'View appointment';\n      icon = <AppointmentIcon />;\n      break;\n    default:\n  }\n\n  return (\n    <div className=\"EventCard\">\n      <div className=\"EventCard-top\">\n        <div className=\"EventCard-icon\">{icon}</div>\n        <div className=\"EventCard-header\">\n          <div className=\"EventCard-title\">{title}</div>\n          <div className=\"EventCard-subtitle\">XXXXXXXXXXX</div>\n        </div>\n      </div>\n      <div className=\"EventCard-bottom\">\n        {button}\n      </div>\n    </div>\n  );\n}\n\nexport default observer(EventCard);\n","import { useRef, useState, useEffect } from 'react';\nimport { observer } from \"mobx-react\";\nimport './MessagesPane.scss';\nimport MessageInput from '../MessageInput/MessageInput';\nimport AppointmentIcon from '../svg/AppointmentIcon';\nimport InvoiceIcon from '../svg/InvoiceIcon';\nimport PaymentIcon from '../svg/PaymentIcon';\nimport PhotoIcon from '../svg/PhotoIcon';\nimport RefundIcon from '../svg/RefundIcon';\nimport EventCard from '../EventCard/EventCard';\n\nfunction MessagesPane(props) {\n  const {\n    conversation,\n    sendMessage,\n    autoReply,\n    autoComplete,\n    fetchAutoComplete,\n    clearAutoComplete,\n    suggestedActions,\n    clearSuggestedActions,\n    setModal,\n  } = props;\n  const [message, setMessage] = useState('');\n\n  const bodyRef = useRef();\n  useEffect(() => {\n    if (bodyRef && bodyRef.current) {\n      bodyRef.current.scroll({\n        behavior: 'smooth',\n        left: 0,\n        top: bodyRef.current.scrollHeight\n      });\n    }\n  }, [bodyRef, conversation, autoReply, suggestedActions]);\n\n  let suggestionHeading = '';\n  if (autoReply && suggestedActions.length === 0) {\n    suggestionHeading = 'Suggested Reply';\n  } else if ((autoReply && suggestedActions.length > 0) || suggestedActions.length > 1) {\n    suggestionHeading = 'Suggested Actions';\n  } else if (suggestedActions.length === 1) {\n    suggestionHeading = 'Suggested Action';\n  }\n\n  let suggestionComponent = null;\n  if (autoReply !== '' || suggestedActions.length !== 0) {\n    let suggestions = [];\n    suggestedActions.forEach((suggestion, index) => {\n      switch (suggestion) {\n        case 'Request Payment':\n          suggestions.push(\n            <div className=\"utterance-suggestion\" key={index}>\n              <div\n                className=\"utterance-suggestion-content\"\n                onClick={() => {\n                  setModal('PAYMENT');\n                  clearSuggestedActions();\n                }}\n              >\n                <div className=\"suggestion-icon\">\n                  <PaymentIcon />\n                </div>\n                {suggestion}\n              </div>\n            </div>\n          )\n          break;\n        case 'Send Invoice':\n          suggestions.push(\n            <div className=\"utterance-suggestion\" key={index}>\n              <div\n                className=\"utterance-suggestion-content\"\n                onClick={() => {\n                  setModal('INVOICE');\n                  clearSuggestedActions();\n                }}\n              >\n                <div className=\"suggestion-icon\">\n                  <InvoiceIcon />\n                </div>\n                {suggestion}\n              </div>\n            </div>\n          )\n          break;\n        case 'Issue Refund':\n          suggestions.push(\n            <div className=\"utterance-suggestion\" key={index}>\n              <div\n                className=\"utterance-suggestion-content\"\n                onClick={() => {\n                  setModal('REFUND');\n                  clearSuggestedActions();\n                }}\n              >\n                <div className=\"suggestion-icon\">\n                  <RefundIcon />\n                </div>\n                {suggestion}\n              </div>\n            </div>\n          )\n          break;\n        case 'Send Photo':\n          suggestions.push(\n            <div className=\"utterance-suggestion\" key={index}>\n              <div\n                className=\"utterance-suggestion-content\"\n                onClick={() => {\n                  setModal('PHOTO');\n                  clearSuggestedActions();\n                }}\n              >\n                <div className=\"suggestion-icon\">\n                  <PhotoIcon />\n                </div>\n                {suggestion}\n              </div>\n            </div>\n          )\n          break;\n        case 'Send Booking Site':\n          suggestions.push(\n            <div className=\"utterance-suggestion\" key={index}>\n              <div\n                className=\"utterance-suggestion-content\"\n                onClick={() => {\n                  clearSuggestedActions();\n                }}\n              >\n                <div className=\"suggestion-icon\">\n                  <AppointmentIcon />\n                </div>\n                {suggestion}\n              </div>\n            </div>\n          )\n          break;\n          case 'Create Appointment':\n          suggestions.push(\n            <div className=\"utterance-suggestion\" key={index}>\n              <div\n                className=\"utterance-suggestion-content\"\n                onClick={() => {\n                  setModal('APPOINTMENT');\n                  clearSuggestedActions();\n                }}\n              >\n                <div className=\"suggestion-icon\">\n                  <AppointmentIcon />\n                </div>\n                {suggestion}\n              </div>\n            </div>\n          )\n          break;\n        default:\n      }\n    });\n    if (autoReply) {\n      suggestions.push(\n        <div className=\"utterance-suggestion\" key=\"autoreply\">\n          <div\n            className=\"utterance-suggestion-content\"\n            onClick={() => {\n              setMessage(autoReply);\n              clearSuggestedActions();\n            }}\n            title=\"Click to edit\"\n          >\n            {autoReply}\n          </div>\n        </div>\n      )\n    }\n\n    suggestionComponent = (\n      <div className=\"row-user row-suggestion\">\n        <div className=\"row-suggestion-heading\">\n          {suggestionHeading}\n        </div>\n        {suggestions}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"MessagesPane\">\n      <div className=\"header\">\n        John Doe\n      </div>\n      <div className=\"body\" ref={bodyRef}>\n        <div className=\"body-content\">\n          {conversation.map((utterance, index) => {\n            return (\n              <div className={utterance.speaker === 'merchant' ? 'row-user' : 'row-other'} key={index}>\n                {utterance.speaker === 'customer' ?\n                  <div className=\"picture\">\n                    JD\n                  </div>\n                : null}\n                {utterance.metadata ? <EventCard event={utterance.metadata.event} /> : (\n                  <div className={utterance.speaker === 'merchant' ? 'utterance-user' : 'utterance-other'}>\n                    {utterance.text}\n                  </div>\n                )}\n              </div>\n            )\n          })}\n          {suggestionComponent}\n        </div>\n      </div>\n      <div className=\"footer\">\n        {/*suggestion !== '' ?\n        <div className=\"suggestion-container\">\n          <div className=\"suggestion-header\">\n            <img src={sparkle} alt=\"Suggestion\" className=\"sparkle\" />\n            Smart Reply\n          </div>\n          <div className=\"suggestion-body\">\n            {suggestion}\n          </div>\n          <div className=\"suggestion-footer\">\n            <div className=\"button\" onClick={() => sendMessage(suggestion, 'merchant')}>Send</div>\n          </div>\n        </div>\n        : null*/}\n        <MessageInput\n          value={message}\n          prediction={message !== '' && autoComplete.startsWith(message) ? autoComplete : ''}\n          fetchAutoComplete={fetchAutoComplete}\n          placeholder=\"Send via text\"\n          onChange={e => setMessage(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter' && !e.shiftKey) {\n              e.preventDefault();\n              sendMessage(message, 'merchant');\n              setMessage('');\n            }\n            if (e.key === 'Tab') {\n              e.preventDefault();\n              setMessage(autoComplete);\n            }\n            if (e.key === 'Backspace') {\n              clearAutoComplete();\n              if (message === '') {\n                clearSuggestedActions();\n              }\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default observer(MessagesPane);\n","import { observer } from \"mobx-react\";\nimport './Modal.scss';\n\nfunction Modal(props) {\n  const { mode, send, close } = props;\n\n  let title = '';\n  switch(mode) {\n    case 'INVOICE':\n      title = 'Send Invoice';\n      break;\n    case 'PAYMENT':\n      title = 'Send Checkout Link';\n      break;\n    case 'REFUND':\n      title = 'Issue Refund';\n      break;\n    case 'APPOINTMENT':\n      title = 'Create Appointment';\n      break;\n      default:\n  }\n\n  return (\n    <div className=\"Modal\">\n      <div className=\"Modal-container\">\n        <div className=\"Modal-title\">\n        <div\n            className=\"Modal-button\"\n            onClick={close}\n          >\n            ✕\n          </div>\n          <div\n            className=\"Modal-button\"\n            onClick={send}\n          >\n            Send\n          </div>\n        </div>\n        <div className=\"Modal-body\">\n          <div className=\"Modal-title\">{title}</div>\n          <div className=\"Modal-placeholder\" />\n          <div className=\"Modal-placeholder\" style={{width: '90%'}} />\n          <div className=\"Modal-placeholder\" style={{width: '90%'}} />\n          <div className=\"Modal-placeholder\" style={{width: '80%'}} />\n          <div className=\"Modal-placeholder\" style={{width: '80%'}} />\n          <div className=\"Modal-placeholder\" style={{width: '50%'}} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default observer(Modal);\n","import { observer } from \"mobx-react\";\nimport CustomerPane from './CustomerPane/CustomerPane';\nimport MessagesPane from './MessagesPane/MessagesPane';\nimport Modal from './Modal/Modal';\nimport './App.scss';\n\nfunction App(props) {\n  const { controller } = props;\n\n  return (\n    <div className=\"App\">\n      <CustomerPane conversation={controller.conversation} sendMessage={controller.sendMessage} />\n      <MessagesPane\n        conversation={controller.conversation}\n        sendMessage={controller.sendMessage}\n        autoReply={controller.autoReply}\n        autoComplete={controller.autoComplete}\n        fetchAutoComplete={controller.fetchAutoComplete}\n        clearAutoComplete={controller.clearAutoComplete}\n        suggestedActions={controller.suggestedActions}\n        clearSuggestedActions={controller.clearSuggestedActions}\n        setModal={controller.setModal}\n      />\n      {controller.modalMode !== 'NONE' ?\n        <Modal mode={controller.modalMode} send={controller.sendAction} close={() => controller.modalMode = 'NONE'} />\n      : null}\n    </div>\n  );\n}\n\nexport default observer(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport MessagesController from './MessagesController';\n\nconst controller = new MessagesController();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App controller={controller} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { makeAutoObservable } from \"mobx\";\n\nexport default class MessagesController {\n  conversation = [];\n  autoReply = '';\n  autoComplete = '';\n  suggestedActions = [];\n  modalMode = 'NONE';\n\n  isAutoReply = true;\n  isAutoComplete = true;\n  isSuggestAction = true;\n  isSuggestLink = true;\n\n  constructor() {\n    this.conversation = [\n      {\n        text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',\n        speaker: 'merchant',\n      },\n      {\n        text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',\n        speaker: 'customer',\n      },\n      {\n        text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',\n        speaker: 'merchant',\n      },\n      {\n        text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',\n        speaker: 'customer',\n      },\n      {\n        text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',\n        speaker: 'merchant',\n      },\n      {\n        text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',\n        speaker: 'customer',\n      },\n      {\n        text: 'Hello',\n        speaker: 'merchant',\n      },\n      {\n        text: 'Hey there',\n        speaker: 'customer',\n      },\n    ];\n\n    makeAutoObservable(this);\n  }\n\n  sendMessage = (text, speaker, metadata) => {\n    this.conversation = [ ...this.conversation, {text, speaker, metadata} ];\n    if (speaker === 'customer') {\n      this.autoReply = '';\n      this.fetchAutoReply(text);\n    } else {\n      this.autoReply = '';\n      this.autoComplete = '';\n      if (!metadata) {\n        this.fetchAutoReply(text, true);\n      }\n    }\n  }\n\n  sendAction = () => {\n    switch(this.modalMode) {\n      case 'INVOICE':\n        this.sendMessage(\n          'Square has requested a $100 invoice. View it at https://sq.invoice.com/QK12D10E',\n          'merchant',\n          {\n            event: this.modalMode,\n          }\n        );\n      break;\n      case 'PAYMENT':\n        this.sendMessage(\n          'Square has requested a payment of $100. View it at https://sq.checkout.com/QK12D10E',\n          'merchant',\n          {\n            event: this.modalMode,\n          }\n        );\n        break;\n      case 'REFUND':\n        this.sendMessage(\n          'Square has issued you a refund of $100. View it at https://sq.receipt.com/QK12D10E',\n          'merchant',\n          {\n            event: this.modalMode,\n          }\n        );\n        break;\n      case 'APPOINTMENT':\n        this.sendMessage(\n          'You have booked an appointment with Square on May 20, 2.00pm. View it at https://sq.appt.com/QK12D10E',\n          'merchant',\n          {\n            event: this.modalMode,\n          }\n        );\n        break;\n      default:\n    }\n\n    this.modalMode = 'NONE';\n  }\n\n  fetchAutoReply = (customerInput, skipAutoReply) => {\n    this.suggestedActions = [];\n    if (this.isAutoReply && !skipAutoReply) {\n      fetch('https://corgi.mysquarephone.com/post/auto_complete_service', {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          user_input: customerInput,\n          mode: 'auto-reply',\n        }),\n      })\n      .then(resp => resp.json())\n      .then(data => {\n        const predictions = data.result.prediction;\n        if (predictions && predictions.length > 0) {\n          this.autoReply = predictions[0];\n        }\n      });\n    }\n    if (this.isSuggestAction) {\n      if (customerInput.search(/\\$/g) !== -1) {\n        this.suggestedActions.push('Request Payment');\n      }\n      if (customerInput.toLowerCase().search('invoice') !== -1) {\n        this.suggestedActions.push('Send Invoice');\n      }\n      if (customerInput.toLowerCase().search('refund') !== -1) {\n        this.suggestedActions.push('Issue Refund');\n      }\n      if (customerInput.toLowerCase().search('photo') !== -1) {\n        this.suggestedActions.push('Send Photo');\n      }\n      if (customerInput.toLowerCase().search('appointment') !== -1) {\n        this.suggestedActions.push('Send Booking Site');\n        this.suggestedActions.push('Create Appointment');\n      }\n    }\n  }\n\n  fetchAutoComplete = (merchantInput) => {\n    if (this.isAutoComplete) {\n      let previousCustomerUtterance = '';\n      if (this.conversation.length > 0) {\n        const previousUtterance = this.conversation[this.conversation.length - 1];\n        if (previousUtterance.speaker === 'customer') {\n          previousCustomerUtterance = previousUtterance.text;\n        }\n      }\n      fetch('https://corgi.mysquarephone.com/post/auto_complete_service', {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          user_input: previousCustomerUtterance,\n          merchant_input: merchantInput,\n          mode: 'auto-complete',\n          auto_complete_length: 5,\n          use_trie: true,\n        }),\n      })\n      .then(resp => resp.json())\n      .then(data => {\n        const predictions = data.result.prediction;\n        if (predictions && predictions.length > 0) {\n          this.autoComplete = predictions[0];\n        }\n      });\n    }\n    if (this.isSuggestAction) {\n      this.suggestedActions = [];\n      if (merchantInput.search(/\\$/g) !== -1) {\n        this.suggestedActions.push('Request Payment');\n      }\n      if (merchantInput.toLowerCase().search('invoice') !== -1) {\n        this.suggestedActions.push('Send Invoice');\n      }\n      if (merchantInput.toLowerCase().search('refund') !== -1) {\n        this.suggestedActions.push('Issue Refund');\n      }\n      if (merchantInput.toLowerCase().search('photo') !== -1) {\n        this.suggestedActions.push('Send Photo');\n      }\n      if (merchantInput.toLowerCase().search('appointment') !== -1) {\n        this.suggestedActions.push('Send Booking Site');\n        this.suggestedActions.push('Create Appointment');\n      }\n    }\n  }\n\n  clearAutoReply = () => {\n    this.autoReply = '';\n  }\n\n  clearAutoComplete = () => {\n    this.autoComplete = '';\n  }\n\n  clearSuggestedActions = () => {\n    this.suggestedActions = [];\n    this.autoReply = '';\n  }\n\n  setModal = (modal) => {\n    this.modalMode = modal;\n  }\n}\n"],"sourceRoot":""}